(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5650:function(e,a,s){Promise.resolve().then(s.bind(s,2599))},2599:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return i}});var l=s(7437),t=s(2265),n=s(2173);let r="http://localhost:8000/api/";var c=s(171),i=function(e){let{}=e,[a,s]=(0,t.useState)(!0),[i,m]=(0,t.useState)({json_url:"",vmix_url:"",replay_start_recording_interval:"",replay_set_speed_value:"",replay_export_switch:!1,check_interval:"",sleep_duration:"",sleep_window_input:"",homepen1num_input:"",homepen2num_input:"",awaypen1num_input:"",awaypen2num_input:"",quickplay_input:"",export_folder:""}),[o,d]=(0,t.useState)("Stopped"),[u,p]=(0,t.useState)("");(0,t.useEffect)(()=>{h()},[]);let h=async()=>{let e=await n.Z.get(r+"settings");if(200===e.status){let a=await e.data;m(a),(0,c.toast)("Fetched data"),console.log(a),s(!1)}else c.toast.error("API Error")},x=async()=>{201===(await n.Z.post(r+"settings/",i)).status?(c.toast.success("Updated"),s(!0),await h()):c.toast.error("API Error")},N=async()=>{let e=await n.Z.get(r+"status");200===e.status?d((await e.data).status):c.toast.error("API Error")},j=async()=>{let e=await n.Z.get(r+"logs");if(200===e.status){let a=await e.data,s="";for(let e of a)s+=e.message+"\n";p(s)}else c.toast.error("API Error")},b=async()=>{200===(await n.Z.get(r+"start")).status?c.toast.success("Script started"):c.toast.error("Failed starting script")},v=async()=>{200===(await n.Z.get(r+"stop")).status?c.toast.success("Script stopped"):c.toast.error("Failed stopping script")};(0,t.useEffect)(()=>{let e=setInterval(()=>{N(),j()},3e3);return()=>{clearInterval(e)}},[]);let _=e=>{let a=e.target,s=a.name,l={...i};"replay_export_switch"===s?l.replay_export_switch=a.checked:l[s]=a.value,console.log(l),m(l)};return(0,l.jsx)(l.Fragment,{children:!a&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("section",{className:"my-5",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("img",{className:"mb-4",src:"img/logo.png"})}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-md-7 d-flex align-items-stretch",children:(0,l.jsxs)("div",{className:"card flex-grow-1",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("ul",{className:"nav nav-tabs card-header-tabs",children:(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("a",{className:"nav-link active","aria-current":"true",href:"#!",children:"Settings"})})})}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"mb-4 d-inline-flex align-items-center justify-content-center w-100",children:[(0,l.jsx)("a",{href:"#",className:"ms-2 btn btn-primary",onClick:b,children:"Start"}),(0,l.jsxs)("h6",{className:"mx-2 mb-0",children:["Script Status : ",(0,l.jsx)("span",{className:"text-primary",children:o})]}),(0,l.jsx)("a",{href:"#",className:"ms-2 btn btn-primary",onClick:v,children:"Stop"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"JSON URL"}),(0,l.jsx)("input",{type:"text",className:"form-control",name:"json_url",value:i.json_url,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"VMIX URL"}),(0,l.jsx)("input",{type:"text",className:"form-control",name:"vmix_url",value:i.vmix_url,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"Check Interval (in Seconds)"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"check_interval",value:i.check_interval,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"Replay Set Speed Value"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"replay_set_speed_value",value:i.replay_set_speed_value,onChange:_}),(0,l.jsx)("small",{className:"float-end",children:(0,l.jsx)("strong",{children:"1.0"})})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"SLEEP_TRIGGER_DURATION (in minute)"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"sleep_duration",value:i.sleep_duration,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"SLEEP_WINDOW"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"sleep_window_input",value:i.sleep_window_input,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"HOMEPEN1NUM"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"homepen1num_input",value:i.homepen1num_input,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"HOMEPEN2NUM"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"homepen2num_input",value:i.homepen2num_input,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"AWAYPEN1NUM"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"awaypen1num_input",value:i.awaypen1num_input,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"AWAYPEN2NUM"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"awaypen2num_input",value:i.awaypen2num_input,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"QUICKPLAY"}),(0,l.jsx)("input",{type:"number",className:"form-control",name:"quickplay_input",value:i.quickplay_input,onChange:_})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"Replay Export Switch"}),(0,l.jsx)("span",{className:"form-check form-switch",children:(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",name:"replay_export_switch",checked:i.replay_export_switch,onChange:_})})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"form-label",children:"Replay Export Folder"}),(0,l.jsx)("input",{type:"text",className:"form-control",name:"export_folder",value:i.export_folder,onChange:_})]}),(0,l.jsx)("a",{href:"#",className:"btn btn-primary",onClick:x,children:"Save"})]})]})}),(0,l.jsx)("div",{className:"col-md-5 d-flex align-items-stretch",children:(0,l.jsxs)("div",{className:"card flex-grow-1",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("ul",{className:"nav nav-tabs card-header-tabs",children:(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("a",{className:"nav-link active","aria-current":"true",href:"#!",children:"Output"})})})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)("div",{className:" mb-4",children:(0,l.jsx)("textarea",{className:"form-control",placeholder:"No Data",rows:18,cols:18,value:u})})})]})})]})]})})})})}}},function(e){e.O(0,[478,971,938,744],function(){return e(e.s=5650)}),_N_E=e.O()}]);